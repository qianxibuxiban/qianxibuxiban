(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))s(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const y of d.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&s(y)}).observe(document,{childList:!0,subtree:!0});function i(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(f){if(f.ep)return;f.ep=!0;const d=i(f);fetch(f.href,d)}})();function en(){let l=["home","services","about","gallery"];function n(i){for(var s=0;s<l.length;s++)i!==l[s]?document.getElementById(l[s]).style.display="none":document.getElementById(l[s]).style.display="block"}return{menu:n}}const re=en();document.getElementById("lang-home").onclick=function(){re.menu("home")};document.getElementById("lang-services").onclick=function(){re.menu("services")};document.getElementById("lang-about").onclick=function(){re.menu("about")};document.getElementById("lang-gallery").onclick=function(){re.menu("gallery")};re.menu("home");const tn={en:{home:"Home",services:"Services",about:"About"},hr:{home:"Naslovna",services:"Usluge",about:"O Nama"}},Ie=["lang-home","lang-services","lang-about"];function nn(l){for(let n=0;n<Ie.length;n++){const i=document.getElementById(Ie[n]);if(i){const s=Ie[n].split("-")[1];i.innerText=tn[l][s]}}}document.getElementById("language-select").onchange=function(){const l=this.value;nn(l)};let rn=`
Offering a terrace with a view of the garden, Apartment Lucija is located in Rovinj and provides air-conditioned accommodation with free WiFi access. The apartment has a seating area with a sofa and satellite TV, as well as a fully equipped kitchen with a dining area. The private bathroom is fitted with a shower and a hairdryer, with free toiletries available.
Lucija Apartment comprises a spacious garden. The centre of Rovinj with its picturesque St. Euphemia's Church is located at a distance of 2 km. Pula Airport can be reached in 32 km. Free private parking is provided on site.

Apartment Lucija has been welcoming Booking.com guests since 12 Mar 2015.

`,on=`Free parking, Private â€¢ On-site
Apartments
Kitchen
City view
Garden
BBQ facilities
Washing machine
Free WiFi
Terrace
Balcony
Family rooms
Non-smoking rooms
Heating
`;document.getElementById("description").innerText=rn;document.getElementById("facilities").innerText=on;let an=`Surrounded by views of the garden, LUCIJA 2 is a sustainable apartment in Rovinj, offering guests an environmentally friendly accommodation close to Mulini Beach. The air-conditioned accommodation is 1.5 km from Cuvi Beach, and guests can benefit from private parking available on site and free WiFi. Å karaba Beach is 2.2 km away and Cathedral St. Eufemia Rovinj is 2.8 km from the apartment.

The apartment is fitted with 1 bedroom, 1 bathroom, bed linen, towels, a flat-screen TV with satellite channels, a dining area, a fully equipped kitchen, and a balcony with mountain views. The unit has soundproofing and a bidet. Additional in-room amenities include fruits.

Pula Arena is 34 km from the apartment, while Balbi Arch is 1.9 km away. The nearest airport is Pula Airport, 36 km from LUCIJA 2.

LUCIJA 2 has been welcoming Booking.com guests since 7 May 2015.`,sn=`Free parking Private â€¢ On-site
Entire apartment
48 mÂ² size
Kitchen
City view
Washing machine
Free WiFi
Balcony
Air conditioning
Private bathroom
Family rooms
Non-smoking rooms
Terrace
Heating`;document.getElementById("description2").innerText=an;document.getElementById("facilities2").innerText=`Facilities: ${sn}`;const cn="modulepreload",ln=function(l){return"/"+l},Ve={},un=function(n,i,s){if(!i||i.length===0)return n();const f=document.getElementsByTagName("link");return Promise.all(i.map(d=>{if(d=ln(d),d in Ve)return;Ve[d]=!0;const y=d.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(!!s)for(let x=f.length-1;x>=0;x--){const g=f[x];if(g.href===d&&(!y||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${w}`))return;const I=document.createElement("link");if(I.rel=y?"stylesheet":cn,y||(I.as="script",I.crossOrigin=""),I.href=d,document.head.appendChild(I),y)return new Promise((x,g)=>{I.addEventListener("load",x),I.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>n()).catch(d=>{const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=d,window.dispatchEvent(y),!y.defaultPrevented)throw d})};/*!
  * PhotoSwipe Lightbox 5.3.8 - https://photoswipe.com
  * (c) 2023 Dmytro Semenov
  */function ne(l,n,i){const s=document.createElement(n);return l&&(s.className=l),i&&i.appendChild(s),s}function fn(l,n,i){let s=`translate3d(${l}px,${n||0}px,0)`;return i!==void 0&&(s+=` scale3d(${i},${i},1)`),s}function Se(l,n,i){l.style.width=typeof n=="number"?`${n}px`:n,l.style.height=typeof i=="number"?`${i}px`:i}const j={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function dn(l){return"button"in l&&l.button===1||l.ctrlKey||l.metaKey||l.altKey||l.shiftKey}function ue(l,n,i=document){let s=[];if(l instanceof Element)s=[l];else if(l instanceof NodeList||Array.isArray(l))s=Array.from(l);else{const f=typeof l=="string"?l:n;f&&(s=Array.from(i.querySelectorAll(f)))}return s}function hn(l){return typeof l=="function"&&l.prototype&&l.prototype.goTo}function Ke(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class pn{constructor(n,i){this.type=n,this.defaultPrevented=!1,i&&Object.assign(this,i)}preventDefault(){this.defaultPrevented=!0}}class mn{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(n,i,s=100){var f,d,y;this._filters[n]||(this._filters[n]=[]),(f=this._filters[n])==null||f.push({fn:i,priority:s}),(d=this._filters[n])==null||d.sort((w,E)=>w.priority-E.priority),(y=this.pswp)==null||y.addFilter(n,i,s)}removeFilter(n,i){this._filters[n]&&(this._filters[n]=this._filters[n].filter(s=>s.fn!==i)),this.pswp&&this.pswp.removeFilter(n,i)}applyFilters(n,...i){var s;return(s=this._filters[n])==null||s.forEach(f=>{i[0]=f.fn.apply(this,i)}),i[0]}on(n,i){var s,f;this._listeners[n]||(this._listeners[n]=[]),(s=this._listeners[n])==null||s.push(i),(f=this.pswp)==null||f.on(n,i)}off(n,i){var s;this._listeners[n]&&(this._listeners[n]=this._listeners[n].filter(f=>i!==f)),(s=this.pswp)==null||s.off(n,i)}dispatch(n,i){var f;if(this.pswp)return this.pswp.dispatch(n,i);const s=new pn(n,i);return(f=this._listeners[n])==null||f.forEach(d=>{d.call(this,s)}),s}}class vn{constructor(n,i){if(this.element=ne("pswp__img pswp__img--placeholder",n?"img":"div",i),n){const s=this.element;s.decoding="async",s.alt="",s.src=n,s.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(n,i){this.element&&(this.element.tagName==="IMG"?(Se(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=fn(0,0,n/250)):Se(this.element,n,i))}destroy(){var n;(n=this.element)!=null&&n.parentNode&&this.element.remove(),this.element=null}}class gn{constructor(n,i,s){this.instance=i,this.data=n,this.index=s,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=j.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(n,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){const s=this.placeholder.element;s&&!s.parentElement&&this.slide.container.prepend(s)}else{const s=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new vn(s,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:n}).defaultPrevented||(this.isImageContent()?(this.element=ne("pswp__img","img"),this.displayedImageWidth&&this.loadImage(n)):(this.element=ne("pswp__content","div"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}loadImage(n){if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:n}).defaultPrevented)return;const i=this.element;this.updateSrcsetSizes(),this.data.srcset&&(i.srcset=this.data.srcset),i.src=this.data.src??"",i.alt=this.data.alt??"",this.state=j.LOADING,i.complete?this.onLoaded():(i.onload=()=>{this.onLoaded()},i.onerror=()=>{this.onError()})}setSlide(n){this.slide=n,this.hasSlide=!0,this.instance=n.pswp}onLoaded(){this.state=j.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===j.LOADED||this.state===j.ERROR)&&this.removePlaceholder())}onError(){this.state=j.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===j.LOADING,this)}isError(){return this.state===j.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(n,i){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(n,i),!this.instance.dispatch("contentResize",{content:this,width:n,height:i}).defaultPrevented&&(Se(this.element,n,i),this.isImageContent()&&!this.isError()))){const s=!this.displayedImageWidth&&n;this.displayedImageWidth=n,this.displayedImageHeight=i,s?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:n,height:i,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==j.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const n=this.element,i=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!n.dataset.largestUsedSize||i>parseInt(n.dataset.largestUsedSize,10))&&(n.sizes=i+"px",n.dataset.largestUsedSize=String(i))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){var n;if(this.slide){let i=ne("pswp__error-msg","div");i.innerText=((n=this.instance.options)==null?void 0:n.errorMsg)??"",i=this.instance.applyFilters("contentErrorElement",i,this),this.element=ne("pswp__content pswp__error-msg-container","div"),this.element.appendChild(i),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===j.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const n="decode"in this.element;this.isImageContent()?n&&this.slide&&(!this.slide.isActive||Ke())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!Ke()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===j.LOADED||this.state===j.ERROR)&&this.removePlaceholder()))}}function yn(l,n){if(l.getViewportSizeFn){const i=l.getViewportSizeFn(l,n);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function se(l,n,i,s,f){let d=0;if(n.paddingFn)d=n.paddingFn(i,s,f)[l];else if(n.padding)d=n.padding[l];else{const y="padding"+l[0].toUpperCase()+l.slice(1);n[y]&&(d=n[y])}return Number(d)||0}function bn(l,n,i,s){return{x:n.x-se("left",l,n,i,s)-se("right",l,n,i,s),y:n.y-se("top",l,n,i,s)-se("bottom",l,n,i,s)}}const Ge=4e3;class wn{constructor(n,i,s,f){this.pswp=f,this.options=n,this.itemData=i,this.index=s,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(n,i,s){const f={x:n,y:i};this.elementSize=f,this.panAreaSize=s;const d=s.x/f.x,y=s.y/f.y;this.fit=Math.min(1,d<y?d:y),this.fill=Math.min(1,d>y?d:y),this.vFill=Math.min(1,y),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(n){const i=n+"ZoomLevel",s=this.options[i];if(s)return typeof s=="function"?s(this):s==="fill"?this.fill:s==="fit"?this.fit:Number(s)}_getSecondary(){let n=this._parseZoomLevelOption("secondary");return n||(n=Math.min(1,this.fit*3),this.elementSize&&n*this.elementSize.x>Ge&&(n=Ge/this.elementSize.x),n)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function Ze(l,n,i){const s=n.createContentFromData(l,i);let f;const{options:d}=n;if(d){f=new wn(d,l,-1);let y;n.pswp?y=n.pswp.viewportSize:y=yn(d,n);const w=bn(d,y,l,i);f.update(s.width,s.height,w)}return s.lazyLoad(),f&&s.setDisplayedSize(Math.ceil(s.width*f.initial),Math.ceil(s.height*f.initial)),s}function _n(l,n){const i=n.getItemData(l);if(!n.dispatch("lazyLoadSlide",{index:l,itemData:i}).defaultPrevented)return Ze(i,n,l)}class En extends mn{getNumItems(){var f;let n=0;const i=(f=this.options)==null?void 0:f.dataSource;i&&"length"in i?n=i.length:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),i.items&&(n=i.items.length));const s=this.dispatch("numItems",{dataSource:i,numItems:n});return this.applyFilters("numItems",s.numItems,i)}createContentFromData(n,i){return new gn(n,this,i)}getItemData(n){var y;const i=(y=this.options)==null?void 0:y.dataSource;let s={};Array.isArray(i)?s=i[n]:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),s=i.items[n]);let f=s;f instanceof Element&&(f=this._domElementToItemData(f));const d=this.dispatch("itemData",{itemData:f||{},index:n});return this.applyFilters("itemData",d.itemData,n)}_getGalleryDOMElements(n){var i,s;return(i=this.options)!=null&&i.children||(s=this.options)!=null&&s.childSelector?ue(this.options.children,this.options.childSelector,n)||[]:[n]}_domElementToItemData(n){const i={element:n},s=n.tagName==="A"?n:n.querySelector("a");if(s){i.src=s.dataset.pswpSrc||s.href,s.dataset.pswpSrcset&&(i.srcset=s.dataset.pswpSrcset),i.width=s.dataset.pswpWidth?parseInt(s.dataset.pswpWidth,10):0,i.height=s.dataset.pswpHeight?parseInt(s.dataset.pswpHeight,10):0,i.w=i.width,i.h=i.height,s.dataset.pswpType&&(i.type=s.dataset.pswpType);const f=n.querySelector("img");f&&(i.msrc=f.currentSrc||f.src,i.alt=f.getAttribute("alt")??""),(s.dataset.pswpCropped||s.dataset.cropped)&&(i.thumbCropped=!0)}return this.applyFilters("domItemData",i,n,s)}lazyLoadData(n,i){return Ze(n,this,i)}}class In extends En{constructor(n){super(),this.options=n||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){ue(this.options.gallery,this.options.gallerySelector).forEach(n=>{n.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(n){if(dn(n)||window.pswp)return;let i={x:n.clientX,y:n.clientY};!i.x&&!i.y&&(i=null);let s=this.getClickedIndex(n);s=this.applyFilters("clickedIndex",s,n,this);const f={gallery:n.currentTarget};s>=0&&(n.preventDefault(),this.loadAndOpen(s,f,i))}getClickedIndex(n){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,n);const i=n.target,f=ue(this.options.children,this.options.childSelector,n.currentTarget).findIndex(d=>d===i||d.contains(i));return f!==-1?f:this.options.children||this.options.childSelector?-1:0}loadAndOpen(n,i,s){return window.pswp?!1:(this.options.index=n,this.options.initialPointerPos=s,this.shouldOpen=!0,this.preload(n,i),!0)}preload(n,i){const{options:s}=this;i&&(s.dataSource=i);const f=[],d=typeof s.pswpModule;if(hn(s.pswpModule))f.push(Promise.resolve(s.pswpModule));else{if(d==="string")throw new Error("pswpModule as string is no longer supported");if(d==="function")f.push(s.pswpModule());else throw new Error("pswpModule is not valid")}typeof s.openPromise=="function"&&f.push(s.openPromise()),s.preloadFirstSlide!==!1&&n>=0&&(this._preloadedContent=_n(n,this));const y=++this._uid;Promise.all(f).then(w=>{if(this.shouldOpen){const E=w[0];this._openPhotoswipe(E,y)}})}_openPhotoswipe(n,i){if(i!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const s=typeof n=="object"?new n.default(this.options):new n(this.options);this.pswp=s,window.pswp=s,Object.keys(this._listeners).forEach(f=>{var d;(d=this._listeners[f])==null||d.forEach(y=>{s.on(f,y)})}),Object.keys(this._filters).forEach(f=>{var d;(d=this._filters[f])==null||d.forEach(y=>{s.addFilter(f,y.fn,y.priority)})}),this._preloadedContent&&(s.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),s.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),s.init()}destroy(){var n;(n=this.pswp)==null||n.destroy(),this.shouldOpen=!1,this._listeners={},ue(this.options.gallery,this.options.gallerySelector).forEach(i=>{i.removeEventListener("click",this.onThumbnailsClick,!1)})}}let Sn=[],An=[];Qe("lucija2",Sn,13,"assets/img/lucija2/","assets/thumbs/lucija2/");Qe("lucija",An,17,"assets/img/lucija/","assets/thumbs/lucija/");function Qe(l,n,i,s,f){for(let w=1;w<i;w++)n.push({src:`${f}${w}_thumbnail.jpeg`,href:`${s}${w}.png`,alt:`Image${w}`});const d=new In({gallery:`#${l}`,children:"a",pswpModule:()=>un(()=>import("./photoswipe.esm-5794cde2.js"),[])}),y=document.getElementById(l);n.forEach(w=>{const E=document.createElement("a");E.href=w.href,E.target="_blank",E.style.marginRight="10px";const I=document.createElement("img");I.src=w.src,I.alt=w.alt,I.style.marginBottom="10px",E.appendChild(I),w.cropped&&(E.setAttribute("data-cropped","true"),E.appendChild(document.createTextNode("Cropped"))),y.appendChild(E)}),d.init(),n.forEach(w=>{Rn(w.href).then(function(E){var I=E[0],x=E[1],g=y.querySelector(`[href="${w.href}"]`);g.setAttribute("data-pswp-width",I),g.setAttribute("data-pswp-height",x)}).catch(function(E){console.error(E)})})}function Rn(l){var n=new Image;return n.src=l,new Promise(function(i,s){n.onload=function(){var f=this.width,d=this.height;i([f,d])},n.onerror=function(){s(new Error("Failed to load the image."))}})}const Tn=document.querySelector(".container");function Xe(l,n){const i=document.createElement("div");i.classList.add("thumb-wrapper");const s=document.createElement("div");s.classList.add("full-image"),s.style.backgroundImage=n,s.style.backgroundSize="cover",s.style.backgroundPosition="center center",s.style.backgroundRepeat="no-repeat",s.alt=`Full Image ${l+1}`,i.appendChild(s),Tn.appendChild(i)}for(let l=0;l<16;l++){const n=`url('assets/img/lucija/${l+1}.png')`;Xe(l,n)}for(let l=1;l<13;l++){const n=`url('assets/img/lucija/${l+1}.png')`;Xe(l+16,n)}document.addEventListener("DOMContentLoaded",function(){function l(){const n=document.querySelectorAll(".thumb-wrapper");function i(E){return Math.floor(Math.random()*E)}const s=i(n.length),d=n[s].querySelector(".full-image");let y=document.getElementById("ani-image");y.style.backgroundImage=d.style.backgroundImage,y.style.transition="none",qe(y,d);let w=y.getBoundingClientRect();console.log("ðŸš€ ~ file: ani2.js:67 ~ animate ~ rect:",w),y.style.transition="left 2s ease, top 2s ease, width 2s ease, height 2s ease",Cn(y),setTimeout(function(){qe(y,d)},4e3),setTimeout(function(){l()},6e3)}l()});function qe(l,n){const i=n.getBoundingClientRect();l.style.width=`${i.width}px`,l.style.height=`${i.height}px`,l.style.left=`${i.left}px`,l.style.top=`${i.top}px`}function Cn(l){if(l){const n=window.innerWidth,i=window.innerHeight,s=(n-n/1.2)/2,f=(i-i/1.2)/2;l.style.left=`${s}px`,l.style.top=`${f}px`,l.style.height=i/1.2+"px",l.style.width=n/1.2+"px"}l.getBoundingClientRect()}var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dn(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function le(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Je={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(l,n){(function(i){l.exports=i()})(function(){return function i(s,f,d){function y(I,x){if(!f[I]){if(!s[I]){var g=typeof le=="function"&&le;if(!x&&g)return g(I,!0);if(w)return w(I,!0);var S=new Error("Cannot find module '"+I+"'");throw S.code="MODULE_NOT_FOUND",S}var P=f[I]={exports:{}};s[I][0].call(P.exports,function(B){var Y=s[I][1][B];return y(Y||B)},P,P.exports,i,s,f,d)}return f[I].exports}for(var w=typeof le=="function"&&le,E=0;E<d.length;E++)y(d[E]);return y}({1:[function(i,s,f){(function(d){var y=d.MutationObserver||d.WebKitMutationObserver,w;if(y){var E=0,I=new y(B),x=d.document.createTextNode("");I.observe(x,{characterData:!0}),w=function(){x.data=E=++E%2}}else if(!d.setImmediate&&typeof d.MessageChannel<"u"){var g=new d.MessageChannel;g.port1.onmessage=B,w=function(){g.port2.postMessage(0)}}else"document"in d&&"onreadystatechange"in d.document.createElement("script")?w=function(){var F=d.document.createElement("script");F.onreadystatechange=function(){B(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},d.document.documentElement.appendChild(F)}:w=function(){setTimeout(B,0)};var S,P=[];function B(){S=!0;for(var F,H,M=P.length;M;){for(H=P,P=[],F=-1;++F<M;)H[F]();M=P.length}S=!1}s.exports=Y;function Y(F){P.push(F)===1&&!S&&w()}}).call(this,typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,s,f){var d=i(1);function y(){}var w={},E=["REJECTED"],I=["FULFILLED"],x=["PENDING"];s.exports=g;function g(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,b!==y&&Y(this,b)}g.prototype.catch=function(b){return this.then(null,b)},g.prototype.then=function(b,T){if(typeof b!="function"&&this.state===I||typeof T!="function"&&this.state===E)return this;var R=new this.constructor(y);if(this.state!==x){var L=this.state===I?b:T;P(R,L,this.outcome)}else this.queue.push(new S(R,b,T));return R};function S(b,T,R){this.promise=b,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}S.prototype.callFulfilled=function(b){w.resolve(this.promise,b)},S.prototype.otherCallFulfilled=function(b){P(this.promise,this.onFulfilled,b)},S.prototype.callRejected=function(b){w.reject(this.promise,b)},S.prototype.otherCallRejected=function(b){P(this.promise,this.onRejected,b)};function P(b,T,R){d(function(){var L;try{L=T(R)}catch(z){return w.reject(b,z)}L===b?w.reject(b,new TypeError("Cannot resolve promise with itself")):w.resolve(b,L)})}w.resolve=function(b,T){var R=F(B,T);if(R.status==="error")return w.reject(b,R.value);var L=R.value;if(L)Y(b,L);else{b.state=I,b.outcome=T;for(var z=-1,k=b.queue.length;++z<k;)b.queue[z].callFulfilled(T)}return b},w.reject=function(b,T){b.state=E,b.outcome=T;for(var R=-1,L=b.queue.length;++R<L;)b.queue[R].callRejected(T);return b};function B(b){var T=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof T=="function")return function(){T.apply(b,arguments)}}function Y(b,T){var R=!1;function L($){R||(R=!0,w.reject(b,$))}function z($){R||(R=!0,w.resolve(b,$))}function k(){T(z,L)}var U=F(k);U.status==="error"&&L(U.value)}function F(b,T){var R={};try{R.value=b(T),R.status="success"}catch(L){R.status="error",R.value=L}return R}g.resolve=H;function H(b){return b instanceof this?b:w.resolve(new this(y),b)}g.reject=M;function M(b){var T=new this(y);return w.reject(T,b)}g.all=de;function de(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=b.length,L=!1;if(!R)return this.resolve([]);for(var z=new Array(R),k=0,U=-1,$=new this(y);++U<R;)V(b[U],U);return $;function V(J,ie){T.resolve(J).then(he,function(Q){L||(L=!0,w.reject($,Q))});function he(Q){z[ie]=Q,++k===R&&!L&&(L=!0,w.resolve($,z))}}}g.race=Z;function Z(b){var T=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=b.length,L=!1;if(!R)return this.resolve([]);for(var z=-1,k=new this(y);++z<R;)U(b[z]);return k;function U($){T.resolve($).then(function(V){L||(L=!0,w.resolve(k,V))},function(V){L||(L=!0,w.reject(k,V))})}}},{1:1}],3:[function(i,s,f){(function(d){typeof d.Promise!="function"&&(d.Promise=i(2))}).call(this,typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,s,f){var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function y(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function w(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var E=w();function I(){try{if(!E||!E.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function x(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(o){if(o.name!=="TypeError")throw o;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new t,c=0;c<e.length;c+=1)a.append(e[c]);return a.getBlob(r.type)}}typeof Promise>"u"&&i(3);var g=Promise;function S(e,r){r&&e.then(function(t){r(null,t)},function(t){r(t)})}function P(e,r,t){typeof r=="function"&&e.then(r),typeof t=="function"&&e.catch(t)}function B(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function Y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var F="local-forage-detect-blob-support",H=void 0,M={},de=Object.prototype.toString,Z="readonly",b="readwrite";function T(e){for(var r=e.length,t=new ArrayBuffer(r),a=new Uint8Array(t),c=0;c<r;c++)a[c]=e.charCodeAt(c);return t}function R(e){return new g(function(r){var t=e.transaction(F,b),a=x([""]);t.objectStore(F).put(a,"key"),t.onabort=function(c){c.preventDefault(),c.stopPropagation(),r(!1)},t.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);r(o||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function L(e){return typeof H=="boolean"?g.resolve(H):R(e).then(function(r){return H=r,H})}function z(e){var r=M[e.name],t={};t.promise=new g(function(a,c){t.resolve=a,t.reject=c}),r.deferredOperations.push(t),r.dbReady?r.dbReady=r.dbReady.then(function(){return t.promise}):r.dbReady=t.promise}function k(e){var r=M[e.name],t=r.deferredOperations.pop();if(t)return t.resolve(),t.promise}function U(e,r){var t=M[e.name],a=t.deferredOperations.pop();if(a)return a.reject(r),a.promise}function $(e,r){return new g(function(t,a){if(M[e.name]=M[e.name]||Re(),e.db)if(r)z(e),e.db.close();else return t(e.db);var c=[e.name];r&&c.push(e.version);var o=E.open.apply(E,c);r&&(o.onupgradeneeded=function(u){var h=o.result;try{h.createObjectStore(e.storeName),u.oldVersion<=1&&h.createObjectStore(F)}catch(p){if(p.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+u.oldVersion+" to version "+u.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw p}}),o.onerror=function(u){u.preventDefault(),a(o.error)},o.onsuccess=function(){var u=o.result;u.onversionchange=function(h){h.target.close()},t(u),k(e)}})}function V(e){return $(e,!1)}function J(e){return $(e,!0)}function ie(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,c=e.version>e.db.version;if(a&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function he(e){return new g(function(r,t){var a=new FileReader;a.onerror=t,a.onloadend=function(c){var o=btoa(c.target.result||"");r({__local_forage_encoded_blob:!0,data:o,type:e.type})},a.readAsBinaryString(e)})}function Q(e){var r=T(atob(e.data));return x([r],{type:e.type})}function Ae(e){return e&&e.__local_forage_encoded_blob}function tt(e){var r=this,t=r._initReady().then(function(){var a=M[r._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return P(t,e,e),t}function nt(e){z(e);for(var r=M[e.name],t=r.forages,a=0;a<t.length;a++){var c=t[a];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,V(e).then(function(o){return e.db=o,ie(e)?J(e):o}).then(function(o){e.db=r.db=o;for(var u=0;u<t.length;u++)t[u]._dbInfo.db=o}).catch(function(o){throw U(e,o),o})}function K(e,r,t,a){a===void 0&&(a=1);try{var c=e.db.transaction(e.storeName,r);t(null,c)}catch(o){if(a>0&&(!e.db||o.name==="InvalidStateError"||o.name==="NotFoundError"))return g.resolve().then(function(){if(!e.db||o.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),J(e)}).then(function(){return nt(e).then(function(){K(e,r,t,a-1)})}).catch(t);t(o)}}function Re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function rt(e){var r=this,t={db:null};if(e)for(var a in e)t[a]=e[a];var c=M[t.name];c||(c=Re(),M[t.name]=c),c.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=tt);var o=[];function u(){return g.resolve()}for(var h=0;h<c.forages.length;h++){var p=c.forages[h];p!==r&&o.push(p._initReady().catch(u))}var m=c.forages.slice(0);return g.all(o).then(function(){return t.db=c.db,V(t)}).then(function(v){return t.db=v,ie(t,r._defaultConfig.version)?J(t):v}).then(function(v){t.db=c.db=v,r._dbInfo=t;for(var _=0;_<m.length;_++){var A=m[_];A!==r&&(A._dbInfo.db=t.db,A._dbInfo.version=t.version)}})}function it(e,r){var t=this;e=B(e);var a=new g(function(c,o){t.ready().then(function(){K(t._dbInfo,Z,function(u,h){if(u)return o(u);try{var p=h.objectStore(t._dbInfo.storeName),m=p.get(e);m.onsuccess=function(){var v=m.result;v===void 0&&(v=null),Ae(v)&&(v=Q(v)),c(v)},m.onerror=function(){o(m.error)}}catch(v){o(v)}})}).catch(o)});return S(a,r),a}function ot(e,r){var t=this,a=new g(function(c,o){t.ready().then(function(){K(t._dbInfo,Z,function(u,h){if(u)return o(u);try{var p=h.objectStore(t._dbInfo.storeName),m=p.openCursor(),v=1;m.onsuccess=function(){var _=m.result;if(_){var A=_.value;Ae(A)&&(A=Q(A));var C=e(A,_.key,v++);C!==void 0?c(C):_.continue()}else c()},m.onerror=function(){o(m.error)}}catch(_){o(_)}})}).catch(o)});return S(a,r),a}function at(e,r,t){var a=this;e=B(e);var c=new g(function(o,u){var h;a.ready().then(function(){return h=a._dbInfo,de.call(r)==="[object Blob]"?L(h.db).then(function(p){return p?r:he(r)}):r}).then(function(p){K(a._dbInfo,b,function(m,v){if(m)return u(m);try{var _=v.objectStore(a._dbInfo.storeName);p===null&&(p=void 0);var A=_.put(p,e);v.oncomplete=function(){p===void 0&&(p=null),o(p)},v.onabort=v.onerror=function(){var C=A.error?A.error:A.transaction.error;u(C)}}catch(C){u(C)}})}).catch(u)});return S(c,t),c}function st(e,r){var t=this;e=B(e);var a=new g(function(c,o){t.ready().then(function(){K(t._dbInfo,b,function(u,h){if(u)return o(u);try{var p=h.objectStore(t._dbInfo.storeName),m=p.delete(e);h.oncomplete=function(){c()},h.onerror=function(){o(m.error)},h.onabort=function(){var v=m.error?m.error:m.transaction.error;o(v)}}catch(v){o(v)}})}).catch(o)});return S(a,r),a}function ct(e){var r=this,t=new g(function(a,c){r.ready().then(function(){K(r._dbInfo,b,function(o,u){if(o)return c(o);try{var h=u.objectStore(r._dbInfo.storeName),p=h.clear();u.oncomplete=function(){a()},u.onabort=u.onerror=function(){var m=p.error?p.error:p.transaction.error;c(m)}}catch(m){c(m)}})}).catch(c)});return S(t,e),t}function lt(e){var r=this,t=new g(function(a,c){r.ready().then(function(){K(r._dbInfo,Z,function(o,u){if(o)return c(o);try{var h=u.objectStore(r._dbInfo.storeName),p=h.count();p.onsuccess=function(){a(p.result)},p.onerror=function(){c(p.error)}}catch(m){c(m)}})}).catch(c)});return S(t,e),t}function ut(e,r){var t=this,a=new g(function(c,o){if(e<0){c(null);return}t.ready().then(function(){K(t._dbInfo,Z,function(u,h){if(u)return o(u);try{var p=h.objectStore(t._dbInfo.storeName),m=!1,v=p.openKeyCursor();v.onsuccess=function(){var _=v.result;if(!_){c(null);return}e===0||m?c(_.key):(m=!0,_.advance(e))},v.onerror=function(){o(v.error)}}catch(_){o(_)}})}).catch(o)});return S(a,r),a}function ft(e){var r=this,t=new g(function(a,c){r.ready().then(function(){K(r._dbInfo,Z,function(o,u){if(o)return c(o);try{var h=u.objectStore(r._dbInfo.storeName),p=h.openKeyCursor(),m=[];p.onsuccess=function(){var v=p.result;if(!v){a(m);return}m.push(v.key),v.continue()},p.onerror=function(){c(p.error)}}catch(v){c(v)}})}).catch(c)});return S(t,e),t}function dt(e,r){r=Y.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var a=this,c;if(!e.name)c=g.reject("Invalid arguments");else{var o=e.name===t.name&&a._dbInfo.db,u=o?g.resolve(a._dbInfo.db):V(e).then(function(h){var p=M[e.name],m=p.forages;p.db=h;for(var v=0;v<m.length;v++)m[v]._dbInfo.db=h;return h});e.storeName?c=u.then(function(h){if(h.objectStoreNames.contains(e.storeName)){var p=h.version+1;z(e);var m=M[e.name],v=m.forages;h.close();for(var _=0;_<v.length;_++){var A=v[_];A._dbInfo.db=null,A._dbInfo.version=p}var C=new g(function(D,O){var N=E.open(e.name,p);N.onerror=function(W){var te=N.result;te.close(),O(W)},N.onupgradeneeded=function(){var W=N.result;W.deleteObjectStore(e.storeName)},N.onsuccess=function(){var W=N.result;W.close(),D(W)}});return C.then(function(D){m.db=D;for(var O=0;O<v.length;O++){var N=v[O];N._dbInfo.db=D,k(N._dbInfo)}}).catch(function(D){throw(U(e,D)||g.resolve()).catch(function(){}),D})}}):c=u.then(function(h){z(e);var p=M[e.name],m=p.forages;h.close();for(var v=0;v<m.length;v++){var _=m[v];_._dbInfo.db=null}var A=new g(function(C,D){var O=E.deleteDatabase(e.name);O.onerror=function(){var N=O.result;N&&N.close(),D(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var N=O.result;N&&N.close(),C(N)}});return A.then(function(C){p.db=C;for(var D=0;D<m.length;D++){var O=m[D];k(O._dbInfo)}}).catch(function(C){throw(U(e,C)||g.resolve()).catch(function(){}),C})})}return S(c,r),c}var ht={_driver:"asyncStorage",_initStorage:rt,_support:I(),iterate:ot,getItem:it,setItem:at,removeItem:st,clear:ct,length:lt,key:ut,keys:ft,dropInstance:dt};function pt(){return typeof openDatabase=="function"}var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt="~~local_forage_type~",Te=/^~~local_forage_type~([^~]+)~/,oe="__lfsc__:",pe=oe.length,me="arbf",ve="blob",Ce="si08",De="ui08",Le="uic8",xe="si16",Ne="si32",Pe="ur16",Oe="ui32",Be="fl32",Fe="fl64",Me=pe+me.length,ze=Object.prototype.toString;function ke(e){var r=e.length*.75,t=e.length,a,c=0,o,u,h,p;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var m=new ArrayBuffer(r),v=new Uint8Array(m);for(a=0;a<t;a+=4)o=G.indexOf(e[a]),u=G.indexOf(e[a+1]),h=G.indexOf(e[a+2]),p=G.indexOf(e[a+3]),v[c++]=o<<2|u>>4,v[c++]=(u&15)<<4|h>>2,v[c++]=(h&3)<<6|p&63;return m}function ge(e){var r=new Uint8Array(e),t="",a;for(a=0;a<r.length;a+=3)t+=G[r[a]>>2],t+=G[(r[a]&3)<<4|r[a+1]>>4],t+=G[(r[a+1]&15)<<2|r[a+2]>>6],t+=G[r[a+2]&63];return r.length%3===2?t=t.substring(0,t.length-1)+"=":r.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function vt(e,r){var t="";if(e&&(t=ze.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&ze.call(e.buffer)==="[object ArrayBuffer]")){var a,c=oe;e instanceof ArrayBuffer?(a=e,c+=me):(a=e.buffer,t==="[object Int8Array]"?c+=Ce:t==="[object Uint8Array]"?c+=De:t==="[object Uint8ClampedArray]"?c+=Le:t==="[object Int16Array]"?c+=xe:t==="[object Uint16Array]"?c+=Pe:t==="[object Int32Array]"?c+=Ne:t==="[object Uint32Array]"?c+=Oe:t==="[object Float32Array]"?c+=Be:t==="[object Float64Array]"?c+=Fe:r(new Error("Failed to get type for BinaryArray"))),r(c+ge(a))}else if(t==="[object Blob]"){var o=new FileReader;o.onload=function(){var u=mt+e.type+"~"+ge(this.result);r(oe+ve+u)},o.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(u){console.error("Couldn't convert value into a JSON string: ",e),r(null,u)}}function gt(e){if(e.substring(0,pe)!==oe)return JSON.parse(e);var r=e.substring(Me),t=e.substring(pe,Me),a;if(t===ve&&Te.test(r)){var c=r.match(Te);a=c[1],r=r.substring(c[0].length)}var o=ke(r);switch(t){case me:return o;case ve:return x([o],{type:a});case Ce:return new Int8Array(o);case De:return new Uint8Array(o);case Le:return new Uint8ClampedArray(o);case xe:return new Int16Array(o);case Pe:return new Uint16Array(o);case Ne:return new Int32Array(o);case Oe:return new Uint32Array(o);case Be:return new Float32Array(o);case Fe:return new Float64Array(o);default:throw new Error("Unkown type: "+t)}}var ye={serialize:vt,deserialize:gt,stringToBuffer:ke,bufferToString:ge};function Ue(e,r,t,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,a)}function yt(e){var r=this,t={db:null};if(e)for(var a in e)t[a]=typeof e[a]!="string"?e[a].toString():e[a];var c=new g(function(o,u){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(h){return u(h)}t.db.transaction(function(h){Ue(h,t,function(){r._dbInfo=t,o()},function(p,m){u(m)})},u)});return t.serializer=ye,c}function q(e,r,t,a,c,o){e.executeSql(t,a,c,function(u,h){h.code===h.SYNTAX_ERR?u.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(p,m){m.rows.length?o(p,h):Ue(p,r,function(){p.executeSql(t,a,c,o)},o)},o):o(u,h)},o)}function bt(e,r){var t=this;e=B(e);var a=new g(function(c,o){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(h){q(h,u,"SELECT * FROM "+u.storeName+" WHERE key = ? LIMIT 1",[e],function(p,m){var v=m.rows.length?m.rows.item(0).value:null;v&&(v=u.serializer.deserialize(v)),c(v)},function(p,m){o(m)})})}).catch(o)});return S(a,r),a}function wt(e,r){var t=this,a=new g(function(c,o){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(h){q(h,u,"SELECT * FROM "+u.storeName,[],function(p,m){for(var v=m.rows,_=v.length,A=0;A<_;A++){var C=v.item(A),D=C.value;if(D&&(D=u.serializer.deserialize(D)),D=e(D,C.key,A+1),D!==void 0){c(D);return}}c()},function(p,m){o(m)})})}).catch(o)});return S(a,r),a}function $e(e,r,t,a){var c=this;e=B(e);var o=new g(function(u,h){c.ready().then(function(){r===void 0&&(r=null);var p=r,m=c._dbInfo;m.serializer.serialize(r,function(v,_){_?h(_):m.db.transaction(function(A){q(A,m,"INSERT OR REPLACE INTO "+m.storeName+" (key, value) VALUES (?, ?)",[e,v],function(){u(p)},function(C,D){h(D)})},function(A){if(A.code===A.QUOTA_ERR){if(a>0){u($e.apply(c,[e,p,t,a-1]));return}h(A)}})})}).catch(h)});return S(o,t),o}function _t(e,r,t){return $e.apply(this,[e,r,t,1])}function Et(e,r){var t=this;e=B(e);var a=new g(function(c,o){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(h){q(h,u,"DELETE FROM "+u.storeName+" WHERE key = ?",[e],function(){c()},function(p,m){o(m)})})}).catch(o)});return S(a,r),a}function It(e){var r=this,t=new g(function(a,c){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(u){q(u,o,"DELETE FROM "+o.storeName,[],function(){a()},function(h,p){c(p)})})}).catch(c)});return S(t,e),t}function St(e){var r=this,t=new g(function(a,c){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(u){q(u,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],function(h,p){var m=p.rows.item(0).c;a(m)},function(h,p){c(p)})})}).catch(c)});return S(t,e),t}function At(e,r){var t=this,a=new g(function(c,o){t.ready().then(function(){var u=t._dbInfo;u.db.transaction(function(h){q(h,u,"SELECT key FROM "+u.storeName+" WHERE id = ? LIMIT 1",[e+1],function(p,m){var v=m.rows.length?m.rows.item(0).key:null;c(v)},function(p,m){o(m)})})}).catch(o)});return S(a,r),a}function Rt(e){var r=this,t=new g(function(a,c){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(u){q(u,o,"SELECT key FROM "+o.storeName,[],function(h,p){for(var m=[],v=0;v<p.rows.length;v++)m.push(p.rows.item(v).key);a(m)},function(h,p){c(p)})})}).catch(c)});return S(t,e),t}function Tt(e){return new g(function(r,t){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,o){for(var u=[],h=0;h<o.rows.length;h++)u.push(o.rows.item(h).name);r({db:e,storeNames:u})},function(c,o){t(o)})},function(a){t(a)})})}function Ct(e,r){r=Y.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var a=this,c;return e.name?c=new g(function(o){var u;e.name===t.name?u=a._dbInfo.db:u=openDatabase(e.name,"","",0),e.storeName?o({db:u,storeNames:[e.storeName]}):o(Tt(u))}).then(function(o){return new g(function(u,h){o.db.transaction(function(p){function m(C){return new g(function(D,O){p.executeSql("DROP TABLE IF EXISTS "+C,[],function(){D()},function(N,W){O(W)})})}for(var v=[],_=0,A=o.storeNames.length;_<A;_++)v.push(m(o.storeNames[_]));g.all(v).then(function(){u()}).catch(function(C){h(C)})},function(p){h(p)})})}):c=g.reject("Invalid arguments"),S(c,r),c}var Dt={_driver:"webSQLStorage",_initStorage:yt,_support:pt(),iterate:wt,getItem:bt,setItem:_t,removeItem:Et,clear:It,length:St,key:At,keys:Rt,dropInstance:Ct};function Lt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function We(e,r){var t=e.name+"/";return e.storeName!==r.storeName&&(t+=e.storeName+"/"),t}function xt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Nt(){return!xt()||localStorage.length>0}function Pt(e){var r=this,t={};if(e)for(var a in e)t[a]=e[a];return t.keyPrefix=We(e,r._defaultConfig),Nt()?(r._dbInfo=t,t.serializer=ye,g.resolve()):g.reject()}function Ot(e){var r=this,t=r.ready().then(function(){for(var a=r._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var o=localStorage.key(c);o.indexOf(a)===0&&localStorage.removeItem(o)}});return S(t,e),t}function Bt(e,r){var t=this;e=B(e);var a=t.ready().then(function(){var c=t._dbInfo,o=localStorage.getItem(c.keyPrefix+e);return o&&(o=c.serializer.deserialize(o)),o});return S(a,r),a}function Ft(e,r){var t=this,a=t.ready().then(function(){for(var c=t._dbInfo,o=c.keyPrefix,u=o.length,h=localStorage.length,p=1,m=0;m<h;m++){var v=localStorage.key(m);if(v.indexOf(o)===0){var _=localStorage.getItem(v);if(_&&(_=c.serializer.deserialize(_)),_=e(_,v.substring(u),p++),_!==void 0)return _}}});return S(a,r),a}function Mt(e,r){var t=this,a=t.ready().then(function(){var c=t._dbInfo,o;try{o=localStorage.key(e)}catch{o=null}return o&&(o=o.substring(c.keyPrefix.length)),o});return S(a,r),a}function zt(e){var r=this,t=r.ready().then(function(){for(var a=r._dbInfo,c=localStorage.length,o=[],u=0;u<c;u++){var h=localStorage.key(u);h.indexOf(a.keyPrefix)===0&&o.push(h.substring(a.keyPrefix.length))}return o});return S(t,e),t}function kt(e){var r=this,t=r.keys().then(function(a){return a.length});return S(t,e),t}function Ut(e,r){var t=this;e=B(e);var a=t.ready().then(function(){var c=t._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return S(a,r),a}function $t(e,r,t){var a=this;e=B(e);var c=a.ready().then(function(){r===void 0&&(r=null);var o=r;return new g(function(u,h){var p=a._dbInfo;p.serializer.serialize(r,function(m,v){if(v)h(v);else try{localStorage.setItem(p.keyPrefix+e,m),u(o)}catch(_){(_.name==="QuotaExceededError"||_.name==="NS_ERROR_DOM_QUOTA_REACHED")&&h(_),h(_)}})})});return S(c,t),c}function Wt(e,r){if(r=Y.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var a=this,c;return e.name?c=new g(function(o){e.storeName?o(We(e,a._defaultConfig)):o(e.name+"/")}).then(function(o){for(var u=localStorage.length-1;u>=0;u--){var h=localStorage.key(u);h.indexOf(o)===0&&localStorage.removeItem(h)}}):c=g.reject("Invalid arguments"),S(c,r),c}var jt={_driver:"localStorageWrapper",_initStorage:Pt,_support:Lt(),iterate:Ft,getItem:Bt,setItem:$t,removeItem:Ut,clear:Ot,length:kt,key:Mt,keys:zt,dropInstance:Wt},Yt=function(r,t){return r===t||typeof r=="number"&&typeof t=="number"&&isNaN(r)&&isNaN(t)},Ht=function(r,t){for(var a=r.length,c=0;c<a;){if(Yt(r[c],t))return!0;c++}return!1},je=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},ee={},Ye={},X={INDEXEDDB:ht,WEBSQL:Dt,LOCALSTORAGE:jt},Vt=[X.INDEXEDDB._driver,X.WEBSQL._driver,X.LOCALSTORAGE._driver],ae=["dropInstance"],be=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ae),Kt={description:"",driver:Vt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Gt(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function we(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(je(r[t])?arguments[0][t]=r[t].slice():arguments[0][t]=r[t])}return arguments[0]}var qt=function(){function e(r){y(this,e);for(var t in X)if(X.hasOwnProperty(t)){var a=X[t],c=a._driver;this[t]=c,ee[c]||this.defineDriver(a)}this._defaultConfig=we({},Kt),this._config=we({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":d(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in t){if(a==="storeName"&&(t[a]=t[a].replace(/\W/g,"_")),a==="version"&&typeof t[a]!="number")return new Error("Database version must be a number.");this._config[a]=t[a]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,a,c){var o=new g(function(u,h){try{var p=t._driver,m=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){h(m);return}for(var v=be.concat("_initStorage"),_=0,A=v.length;_<A;_++){var C=v[_],D=!Ht(ae,C);if((D||t[C])&&typeof t[C]!="function"){h(m);return}}var O=function(){for(var te=function(Xt){return function(){var Jt=new Error("Method "+Xt+" is not implemented by the current driver"),He=g.reject(Jt);return S(He,arguments[arguments.length-1]),He}},_e=0,Qt=ae.length;_e<Qt;_e++){var Ee=ae[_e];t[Ee]||(t[Ee]=te(Ee))}};O();var N=function(te){ee[p]&&console.info("Redefining LocalForage driver: "+p),ee[p]=t,Ye[p]=te,u()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(N,h):N(!!t._support):N(!0)}catch(W){h(W)}});return P(o,a,c),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,a,c){var o=ee[t]?g.resolve(ee[t]):g.reject(new Error("Driver not found."));return P(o,a,c),o},e.prototype.getSerializer=function(t){var a=g.resolve(ye);return P(a,t),a},e.prototype.ready=function(t){var a=this,c=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return P(c,t,t),c},e.prototype.setDriver=function(t,a,c){var o=this;je(t)||(t=[t]);var u=this._getSupportedDrivers(t);function h(){o._config.driver=o.driver()}function p(_){return o._extend(_),h(),o._ready=o._initStorage(o._config),o._ready}function m(_){return function(){var A=0;function C(){for(;A<_.length;){var D=_[A];return A++,o._dbInfo=null,o._ready=null,o.getDriver(D).then(p).catch(C)}h();var O=new Error("No available storage method found.");return o._driverSet=g.reject(O),o._driverSet}return C()}}var v=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=v.then(function(){var _=u[0];return o._dbInfo=null,o._ready=null,o.getDriver(_).then(function(A){o._driver=A._driver,h(),o._wrapLibraryMethodsWithReady(),o._initDriver=m(u)})}).catch(function(){h();var _=new Error("No available storage method found.");return o._driverSet=g.reject(_),o._driverSet}),P(this._driverSet,a,c),this._driverSet},e.prototype.supports=function(t){return!!Ye[t]},e.prototype._extend=function(t){we(this,t)},e.prototype._getSupportedDrivers=function(t){for(var a=[],c=0,o=t.length;c<o;c++){var u=t[c];this.supports(u)&&a.push(u)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,a=be.length;t<a;t++)Gt(this,be[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),Zt=new qt;s.exports=Zt},{3:3}]},{},[4])(4)})})(Je);var Ln=Je.exports;const et=Dn(Ln);var xn=document.getElementById("imageLoader");xn.addEventListener("change",Pn,!1);var fe=document.getElementById("imageCanvas"),Nn=fe.getContext("2d");function Pn(l){const n=l.target.files[0],i=n?n.name.split(".")[0]:"No file selected";var s=new FileReader;s.onload=function(f){var d=new Image;d.onload=function(){fe.width=300,fe.height=300,Bn(d).then(function(w){var E=w[0],I=w[1];console.trace("Image loaded successfully. Width:",E,"Height:",I);var x=Math.min(E,I),g=Math.floor((E-x)/2),S=Math.floor((I-x)/2);Nn.drawImage(d,g,S,x,x,0,0,300,300),y(fe)}).catch(function(w){console.error(w.message)});function y(w){w.toBlob(function(E){et.setItem(i,E).then(function(){const I=document.createElement("a");I.href=URL.createObjectURL(E),I.download=i+"_thumbnail.jpeg",I.click()}).catch(function(I){console.error("Error saving canvas image to localForage:",I)})},"image/jpeg",7)}},d.src=f.target.result},s.readAsDataURL(n)}function On(){et.getItem("2ul6slfy").then(function(l){if(l){var n=document.createElement("img");n.src=URL.createObjectURL(l);var i=document.getElementById("imageContainer");i.innerHTML="",i.appendChild(n)}else console.log("Canvas image not found in localForage.")}).catch(function(l){console.error("Error retrieving canvas image from localForage:",l)})}On();function Bn(l){var n=l.src.split(",")[1],i=Fn(n),s=new Image;return new Promise(function(f,d){s.onload=function(){var y=this.width,w=this.height;f([y,w]),URL.revokeObjectURL(s.src)},s.onerror=function(){d(new Error("Failed to load the image."))},s.src=URL.createObjectURL(i)})}function Fn(l){for(var n="image/png",i=512,s=atob(l),f=[],d=0;d<s.length;d+=i){for(var y=s.slice(d,d+i),w=new Array(y.length),E=0;E<y.length;E++)w[E]=y.charCodeAt(E);var I=new Uint8Array(w);f.push(I)}return new Blob(f,{type:n})}
